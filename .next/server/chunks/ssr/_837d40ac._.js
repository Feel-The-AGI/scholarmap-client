module.exports=[38069,a=>{"use strict";var b=a.i(92742),c=a.i(46390),d=a.i(6620),e=a.i(47650),f=a.i(29689),g=a.i(64458),h=a.i(68169),i=c,j=a.i(54473);function k(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}class l extends i.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=b.offsetParent,c=(0,h.isHTMLElement)(a)&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=b.offsetHeight||0,d.width=b.offsetWidth||0,d.top=b.offsetTop,d.left=b.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:a,isPresent:d,anchorX:e,root:f}){let g=(0,i.useId)(),h=(0,i.useRef)(null),m=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:n}=(0,i.useContext)(j.MotionConfigContext),o=function(...a){return c.useCallback(function(...a){return b=>{let c=!1,d=a.map(a=>{let d=k(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():k(a[b],null)}}}}(...a),a)}(h,a.props?.ref??a?.ref);return(0,i.useInsertionEffect)(()=>{let{width:a,height:b,top:c,left:i,right:j}=m.current;if(d||!h.current||!a||!b)return;let k="left"===e?`left: ${i}`:`right: ${j}`;h.current.dataset.motionPopId=g;let l=document.createElement("style");n&&(l.nonce=n);let o=f??document.head;return o.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${g}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${k}px !important;
            top: ${c}px !important;
          }
        `),()=>{o.contains(l)&&o.removeChild(l)}},[d]),(0,b.jsx)(l,{isPresent:d,childRef:h,sizeRef:m,children:i.cloneElement(a,{ref:o})})}let n=({children:a,initial:d,isPresent:f,onExitComplete:h,custom:i,presenceAffectsLayout:j,mode:k,anchorX:l,root:n})=>{let p=(0,e.useConstant)(o),q=(0,c.useId)(),r=!0,s=(0,c.useMemo)(()=>(r=!1,{id:q,initial:d,isPresent:f,custom:i,onExitComplete:a=>{for(let b of(p.set(a,!0),p.values()))if(!b)return;h&&h()},register:a=>(p.set(a,!1),()=>p.delete(a))}),[f,p,h]);return j&&r&&(s={...s}),(0,c.useMemo)(()=>{p.forEach((a,b)=>p.set(b,!1))},[f]),c.useEffect(()=>{f||p.size||!h||h()},[f]),"popLayout"===k&&(a=(0,b.jsx)(m,{isPresent:f,anchorX:l,root:n,children:a})),(0,b.jsx)(g.PresenceContext.Provider,{value:s,children:a})};function o(){return new Map}var p=a.i(91936);let q=a=>a.key||"";function r(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}let s=({children:a,custom:g,initial:h=!0,onExitComplete:i,presenceAffectsLayout:j=!0,mode:k="sync",propagate:l=!1,anchorX:m="left",root:o})=>{let[s,t]=(0,p.usePresence)(l),u=(0,c.useMemo)(()=>r(a),[a]),v=l&&!s?[]:u.map(q),w=(0,c.useRef)(!0),x=(0,c.useRef)(u),y=(0,e.useConstant)(()=>new Map),z=(0,c.useRef)(new Set),[A,B]=(0,c.useState)(u),[C,D]=(0,c.useState)(u);(0,f.useIsomorphicLayoutEffect)(()=>{w.current=!1,x.current=u;for(let a=0;a<C.length;a++){let b=q(C[a]);v.includes(b)?(y.delete(b),z.current.delete(b)):!0!==y.get(b)&&y.set(b,!1)}},[C,v.length,v.join("-")]);let E=[];if(u!==A){let a=[...u];for(let b=0;b<C.length;b++){let c=C[b],d=q(c);v.includes(d)||(a.splice(b,0,c),E.push(c))}return"wait"===k&&E.length&&(a=E),D(r(a)),B(u),null}let{forceRender:F}=(0,c.useContext)(d.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:C.map(a=>{let c=q(a),d=(!l||!!s)&&(u===C||v.includes(c));return(0,b.jsx)(n,{isPresent:d,initial:(!w.current||!!h)&&void 0,custom:g,presenceAffectsLayout:j,mode:k,root:o,onExitComplete:d?void 0:()=>{if(z.current.has(c)||(z.current.add(c),!y.has(c)))return;y.set(c,!0);let a=!0;y.forEach(b=>{b||(a=!1)}),a&&(F?.(),D(x.current),l&&t?.(),i&&i())},anchorX:m,children:a},c)})})};a.s(["AnimatePresence",()=>s],38069)},10179,a=>{"use strict";var b=a.i(92742),c=a.i(46390),d=a.i(78653),e=a.i(38069),f=a.i(10849);let g={bachelor:{icon:"ðŸŽ“",color:"text-blue-700",bg:"bg-blue-100"},masters:{icon:"ðŸ“š",color:"text-purple-700",bg:"bg-purple-100"},phd:{icon:"ðŸ”¬",color:"text-rose-700",bg:"bg-rose-100"},postdoc:{icon:"ðŸ†",color:"text-teal-700",bg:"bg-teal-100"}};function h(){let[a,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)([]),A=(0,f.createClient)();(0,c.useEffect)(()=>{(async()=>{let{data:a}=await A.auth.getUser();h(a.user?{email:a.user.email??""}:null),j(!1)})()},[]),(0,c.useEffect)(()=>{a&&B()},[a]);let B=async()=>{let[{data:a},{data:b}]=await Promise.all([A.from("programs").select("*").order("created_at",{ascending:!1}),A.from("agent_reviews").select("*").eq("resolved",!1).order("created_at",{ascending:!1})]);x(a??[]),z(b??[])},C=async a=>{a.preventDefault(),p("");let{error:b}=await A.auth.signInWithPassword({email:k,password:m});if(b)p(b.message);else{let{data:a}=await A.auth.getUser();h(a.user?{email:a.user.email??""}:null)}},D=async()=>{await A.auth.signOut(),h(null)},E=async a=>{a.preventDefault();let b=q.split("\n").map(a=>a.trim()).filter(a=>a.length>0);if(0!==b.length){t(!0),v(null);try{let a=await fetch(`${process.env.NEXT_PUBLIC_AGENT_URL||"https://scholarmap-agent.onrender.com"}/batch-ingest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.NEXT_PUBLIC_AGENT_SECRET||"sm_agent_secret_2026_xK9mP3nQ7vL"}`},body:JSON.stringify({urls:b})}),c=await a.json();v(c),c.successful>0&&(r(""),B())}catch(a){v({total:b.length,successful:0,failed:b.length,results:b.map(b=>({url:b,success:!1,error:a.message}))})}t(!1)}},F=async a=>{await A.from("agent_reviews").update({resolved:!0}).eq("id",a),B()};return i?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 border-4 border-stone-200 border-t-primary-500 rounded-full animate-spin"}),(0,b.jsx)("p",{className:"text-stone-500",children:"Loading..."})]})}):a?(0,b.jsxs)("div",{className:"min-h-screen",children:[(0,b.jsx)("div",{className:"relative py-8 px-6 border-b border-stone-200 bg-white/50 backdrop-blur-xl",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-linear-to-tr from-stone-900 to-stone-800 flex items-center justify-center shadow-lg",children:(0,b.jsx)("span",{className:"text-xl",children:"âš¡"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-stone-900",children:"Agent Copilot"}),(0,b.jsx)("p",{className:"text-sm text-stone-500",children:"Scholarship Management Dashboard"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-stone-100",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-accent-500 animate-pulse"}),(0,b.jsx)("span",{className:"text-sm text-stone-600",children:a.email})]}),(0,b.jsx)("button",{onClick:D,className:"px-4 py-2 rounded-xl text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:"Logout"})]})]})})}),(0,b.jsx)("div",{className:"px-6 py-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total Programs",value:w.length,icon:"ðŸ“Š",color:"from-blue-500 to-indigo-600"},{label:"Active",value:w.filter(a=>"active"===a.status).length,icon:"âœ…",color:"from-accent-500 to-teal-600"},{label:"Pending Review",value:y.length,icon:"âš ï¸",color:"from-amber-500 to-orange-600"},{label:"Paused",value:w.filter(a=>"paused"===a.status).length,icon:"â¸ï¸",color:"from-stone-500 to-stone-600"}].map(a=>(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-5 rounded-2xl bg-white border border-stone-200/80 shadow-lg shadow-stone-200/30",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:a.icon}),(0,b.jsx)("span",{className:`w-8 h-1 rounded-full bg-linear-to-r ${a.color}`})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-stone-900",children:a.value}),(0,b.jsx)("div",{className:"text-sm text-stone-500",children:a.label})]},a.label))}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-1",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-3xl bg-linear-to-tr from-stone-900 to-stone-800 text-white",children:[(0,b.jsxs)("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xl",children:"ðŸ¤–"}),"Batch Ingest Scholarships"]}),(0,b.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("textarea",{value:q,onChange:a=>r(a.target.value),placeholder:"Paste one URL per line... https://example.com/scholarship1 https://example.com/scholarship2 https://example.com/scholarship3",rows:5,className:"w-full px-4 py-3.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder:text-stone-400 focus:border-white/40 focus:ring-2 focus:ring-white/10 outline-none transition-all resize-none font-mono text-sm"}),(0,b.jsxs)("p",{className:"text-xs text-stone-400 mt-2",children:[q.split("\n").filter(a=>a.trim()).length," URL(s) ready â€¢ Max 50 per batch"]})]}),(0,b.jsx)("button",{type:"submit",disabled:s||0===q.split("\n").filter(a=>a.trim()).length,className:"w-full px-6 py-3.5 rounded-xl bg-white text-stone-900 font-semibold hover:bg-stone-100 disabled:opacity-50 transition-all flex items-center justify-center gap-2",children:s?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"w-5 h-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),(0,b.jsx)("path",{fill:"currentColor",className:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing ",q.split("\n").filter(a=>a.trim()).length," URLs..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Batch Ingest"]})})]}),(0,b.jsx)(e.AnimatePresence,{children:u&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 space-y-3",children:[(0,b.jsx)("div",{className:`p-4 rounded-xl ${0===u.failed?"bg-accent-500/20":0===u.successful?"bg-red-500/20":"bg-amber-500/20"}`,children:(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:0===u.failed?"ðŸŽ‰":0===u.successful?"âŒ":"âš¡"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-semibold",children:[u.successful,"/",u.total," Successful"]}),(0,b.jsxs)("p",{className:"text-xs text-stone-300",children:[u.total_time?.toFixed(1),"s total"]})]})]})})}),(0,b.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:u.results.map((a,c)=>(0,b.jsx)("div",{className:`p-3 rounded-lg text-xs ${a.success?"bg-accent-500/10":"bg-red-500/10"}`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"truncate font-mono text-stone-300",title:a.url,children:a.url}),a.success?(0,b.jsxs)("p",{className:"text-accent-400 mt-1",children:["âœ“ ",((a.confidence??0)*100).toFixed(0),"% confidence â€¢ ",a.processing_time?.toFixed(1),"s"]}):(0,b.jsxs)("p",{className:"text-red-400 mt-1",children:["âœ— ",a.error]})]}),(0,b.jsx)("span",{className:`shrink-0 w-2 h-2 rounded-full mt-1.5 ${a.success?"bg-accent-500":"bg-red-500"}`})]})},c))})]})})]}),y.length>0&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mt-6 p-6 rounded-3xl bg-amber-50 border border-amber-200",children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-amber-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xl",children:"âš ï¸"}),"Issues to Review (",y.length,")"]}),(0,b.jsx)("div",{className:"space-y-3",children:y.map(a=>(0,b.jsx)("div",{className:"p-4 rounded-xl bg-white border border-amber-200",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("span",{className:`text-xs px-2 py-0.5 rounded-lg font-medium ${"high"===a.severity?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:a.severity}),(0,b.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-lg bg-stone-100 text-stone-600",children:a.issue_type})]}),(0,b.jsx)("p",{className:"text-sm text-stone-700",children:a.note})]}),(0,b.jsx)("button",{onClick:()=>F(a.id),className:"text-xs px-3 py-1.5 rounded-lg bg-accent-100 text-accent-700 hover:bg-accent-200 transition-colors font-medium",children:"Resolve"})]})},a.id))})]})]}),(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-6 rounded-3xl bg-white border border-stone-200/80 shadow-xl shadow-stone-200/30",children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-stone-900 mb-6 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xl",children:"ðŸ“š"}),"All Programs (",w.length,")"]}),0===w.length?(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)("div",{className:"text-5xl mb-4",children:"ðŸ“­"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-stone-900 mb-2",children:"No programs yet"}),(0,b.jsx)("p",{className:"text-stone-500",children:"Ingest a scholarship URL to get started"})]}):(0,b.jsx)("div",{className:"space-y-3",children:w.map(a=>{let c=g[a.level]||{icon:"ðŸ“„",color:"text-stone-700",bg:"bg-stone-100"};return(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-stone-50 border border-stone-100 hover:bg-stone-100 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("span",{className:"text-2xl",children:c.icon}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-stone-900",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-stone-500",children:[a.provider," Â· ",a.level]})]})]}),(0,b.jsx)("span",{className:`text-xs px-3 py-1.5 rounded-full font-medium ${"active"===a.status?"bg-accent-100 text-accent-700":"paused"===a.status?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-600"}`,children:a.status})]},a.id)})})]})})]})]})})]}):(0,b.jsxs)("div",{className:"min-h-screen flex items-center justify-center px-6",children:[(0,b.jsxs)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 rounded-full bg-linear-to-tr from-primary-200/30 to-accent-200/20 blur-3xl"}),(0,b.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 rounded-full bg-linear-to-tr from-accent-200/30 to-primary-200/10 blur-3xl"})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative w-full max-w-md",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-linear-to-tr from-stone-900 to-stone-800 flex items-center justify-center mx-auto mb-4 shadow-xl",children:(0,b.jsx)("span",{className:"text-2xl",children:"ðŸ”"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-stone-900",children:"Admin Portal"}),(0,b.jsx)("p",{className:"text-stone-500 mt-1",children:"Sign in to manage scholarships"})]}),(0,b.jsxs)("form",{onSubmit:C,className:"p-8 rounded-3xl bg-white border border-stone-200/80 shadow-xl shadow-stone-200/30 space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Email"}),(0,b.jsx)("input",{type:"email",value:k,onChange:a=>l(a.target.value),className:"w-full px-4 py-3.5 rounded-xl border-2 border-stone-200 bg-stone-50 focus:border-primary-500 focus:bg-white focus:ring-4 focus:ring-primary-100 outline-none transition-all text-stone-900 placeholder:text-stone-400",placeholder:"admin@scholarmap.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Password"}),(0,b.jsx)("input",{type:"password",value:m,onChange:a=>n(a.target.value),className:"w-full px-4 py-3.5 rounded-xl border-2 border-stone-200 bg-stone-50 focus:border-primary-500 focus:bg-white focus:ring-4 focus:ring-primary-100 outline-none transition-all text-stone-900 placeholder:text-stone-400",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),(0,b.jsx)(e.AnimatePresence,{children:o&&(0,b.jsx)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-red-600 bg-red-50 px-4 py-3 rounded-xl",children:o})}),(0,b.jsx)("button",{type:"submit",className:"w-full px-6 py-4 rounded-xl bg-stone-900 text-white font-semibold hover:bg-stone-800 transition-colors",children:"Sign In"})]})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=_837d40ac._.js.map